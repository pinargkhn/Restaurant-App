/* src/components/Cart.css */
.cart-container {
  display: flex;
  flex-direction: column;
  padding: 1.5rem;
  background-color: var(--white);
  border-top: 1px solid var(--border-color);
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
  position: sticky;
  bottom: 0;
  z-index: 200;

  /* --- GÜNCELLEME --- */
  /* max-height ve overflow buradan kaldırıldı */
  transition: none; /* Ana container'a transition uygulamıyoruz */
}

/* Sepet açıldığında ana container için özel stil GEREKLİ DEĞİL */
/* .cart-container.is-expanded { ... } */

.cart-container.cart-empty {
  text-align: center;
  position: relative;
  box-shadow: none;
  border-top: 1px solid var(--border-color);
  padding: 3rem 1.5rem;
  /* max-height: none; (Artık gereksiz) */
}

/* Tablet ve üstü (Yanda Sabit) */
@media (min-width: 768px) {
  .cart-container {
    width: 384px;
    height: 100vh;
    position: sticky;
    top: 0;
    bottom: auto;
    border-top: none;
    border-left: 1px solid var(--border-color);
    box-shadow: var(--shadow-md);
    flex-shrink: 0;
    /* Masaüstünde her zaman tam yükseklik ve scroll */
    max-height: 100vh !important;
    overflow-y: auto;
    /* padding: 1.5rem; (Zaten var) */
  }
  .cart-container.cart-empty {
    justify-content: center;
    align-items: center;
    padding: 1.5rem;
    border-top: none;
  }
}

.cart-empty-text { /* ... (Aynı) ... */ }
.cart-table-id { /* ... (Aynı) ... */ }

/* Başlık ve Aç/Kapat Butonu */
.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  /* YENİ: Başlığın küçülmesini engelle */
  flex-shrink: 0;
}

.cart-title { /* ... (Aynı) ... */ }
.cart-toggle { /* ... (Aynı) ... */ }
@media (min-width: 768px) { .cart-toggle { display: none; } }


/* --- KATLANABİLİR ALAN (GÜNCELLENDİ) --- */
.cart-collapsible-area {
  /* MOBİL: Başlangıçta yüksekliği sıfır ve gizli */
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out; /* Sadece max-height'e transition */
  /* flex: 1; (Masaüstü için alta taşındı) */
}

/* MOBİL: Sepet açıldığında */
.cart-container.is-expanded .cart-collapsible-area {
  max-height: 50vh; /* Ekranın yarısı kadar büyüsün (ayarlanabilir) */
  overflow-y: auto; /* İçerik taşarsa scroll bar çıksın */
}

/* Masaüstünde katlanabilir alan her zaman görünür ve esnek */
@media (min-width: 768px) {
  .cart-collapsible-area {
    max-height: none !important; /* Yükseklik sınırını kaldır */
    overflow: auto !important; /* Her zaman scroll edilebilir */
    flex: 1; /* Alanı doldurmak için esne */
    margin: 0 -0.5rem; /* Scroll bar için padding ayarı */
    padding: 0 0.5rem;
  }
}
/* --- KATLANABİLİR ALAN BİTİŞ --- */


.cart-items-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  /* MOBİL/MASAÜSTÜ: Yükseklik kontrolü .cart-collapsible-area'ya geçti */
}

.cart-item { /* ... (Aynı) ... */ }
.cart-item-name { /* ... (Aynı) ... */ }
.cart-item-controls { /* ... (Aynı) ... */ }
.cart-item-price { /* ... (Aynı) ... */ }
.qty-button { /* ... (Aynı) ... */ }
.qty-count { /* ... (Aynı) ... */ }

.cart-note-section {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color-light);
}
.cart-note-section .form-label { /* ... (Aynı) ... */ }

.cart-footer {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color-light);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex-shrink: 0; /* Footer'ın küçülmesini engelle */
}

.cart-total { /* ... (Aynı) ... */ }
.cart-footer .button { /* ... (Aynı) ... */ }
.cart-footer .button-primary { /* ... (Aynı) ... */ }
.cart-footer .button-danger-outline { /* ... (Aynı) ... */ }